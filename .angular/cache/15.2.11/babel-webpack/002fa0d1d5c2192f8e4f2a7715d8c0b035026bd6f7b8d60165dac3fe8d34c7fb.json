{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/adapters/product.repository.adapter\";\nimport * as i2 from \"@angular/common\";\nfunction ProductsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1, \"Cargando productos...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction ProductsComponent_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"img\", 9);\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 10);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_div_5_div_1_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const product_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.addToCart(product_r4));\n    });\n    i0.ɵɵtext(10, \"A\\u00F1adir al carrito\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", product_r4.urlImage, i0.ɵɵsanitizeUrl)(\"alt\", product_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r4.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 5, product_r4.price));\n  }\n}\nfunction ProductsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtemplate(1, ProductsComponent_div_5_div_1_Template, 11, 7, \"div\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.products);\n  }\n}\nexport class ProductsComponent {\n  constructor(productService) {\n    this.productService = productService;\n    this.products = [];\n    this.loading = false;\n    this.error = null;\n  }\n  ngOnInit() {\n    this.loadProducts();\n  }\n  loadProducts() {\n    this.loading = true;\n    this.error = null;\n    this.productService.getProducts().subscribe(data => {\n      this.products = data;\n      this.loading = false;\n    }, error => {\n      console.error('Error fetching products:', error);\n      this.error = 'Hubo un problema al cargar los productos. Por favor, intenta de nuevo más tarde.';\n      this.loading = false;\n    });\n  }\n  addToCart(product) {\n    const cart = JSON.parse(localStorage.getItem('cart') || '[]');\n    cart.push(product);\n    localStorage.setItem('cart', JSON.stringify(cart));\n    console.log(`Producto añadido al carrito: ${product.name}`);\n  }\n  static #_ = this.ɵfac = function ProductsComponent_Factory(t) {\n    return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.ProductService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductsComponent,\n    selectors: [[\"app-products-page\"]],\n    decls: 6,\n    vars: 3,\n    consts: [[1, \"container\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"class\", \"products-grid\", 4, \"ngIf\"], [1, \"loading\"], [1, \"error-message\"], [1, \"products-grid\"], [\"class\", \"product-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-card\"], [1, \"product-image\", 3, \"src\", \"alt\"], [1, \"price\"], [3, \"click\"]],\n    template: function ProductsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"Nuestros Productos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, ProductsComponent_div_3_Template, 2, 0, \"div\", 1);\n        i0.ɵɵtemplate(4, ProductsComponent_div_4_Template, 2, 1, \"div\", 2);\n        i0.ɵɵtemplate(5, ProductsComponent_div_5_Template, 2, 1, \"div\", 3);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i2.CurrencyPipe],\n    styles: [\"(()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\t\\\"use strict\\\";\\n \\t\\n \\t\\n })()[_ngcontent-%COMP%]\\n;\", \".container[_ngcontent-%COMP%] {\\n    max-width: 1200px;\\n    margin: 0 auto;\\n    padding: 20px;\\n  }\\n\\n  h2[_ngcontent-%COMP%] {\\n    text-align: center;\\n    margin-bottom: 30px;\\n  }\\n\\n  .products-grid[_ngcontent-%COMP%] {\\n    display: grid;\\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\\n    gap: 20px;\\n  }\\n\\n  .product-card[_ngcontent-%COMP%] {\\n    border: 1px solid #e0e0e0;\\n    border-radius: 8px;\\n    padding: 15px;\\n    display: flex;\\n    flex-direction: column;\\n    transition: box-shadow 0.3s ease;\\n  }\\n\\n  .product-card[_ngcontent-%COMP%]:hover {\\n    box-shadow: 0 4px 8px rgba(0,0,0,0.1);\\n  }\\n\\n  .product-image[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: 200px;\\n    object-fit: cover;\\n    border-radius: 4px;\\n    margin-bottom: 10px;\\n  }\\n\\n  h3[_ngcontent-%COMP%] {\\n    font-size: 1.2em;\\n    margin: 10px 0;\\n  }\\n\\n  .price[_ngcontent-%COMP%] {\\n    font-weight: bold;\\n    color: #4a4a4a;\\n    margin: 10px 0;\\n  }\\n\\n  button[_ngcontent-%COMP%] {\\n    background-color: #007bff;\\n    color: white;\\n    border: none;\\n    padding: 10px 15px;\\n    border-radius: 4px;\\n    cursor: pointer;\\n    transition: background-color 0.3s ease;\\n  }\\n\\n  button[_ngcontent-%COMP%]:hover {\\n    background-color: #0056b3;\\n  }\\n\\n  .error-message[_ngcontent-%COMP%] {\\n    color: red;\\n    text-align: center;\\n    margin: 20px 0;\\n  }\\n\\n  .loading[_ngcontent-%COMP%] {\\n    text-align: center;\\n    margin: 20px 0;\\n  }\"]\n  });\n}","map":{"version":3,"mappings":";;;;;IA+EEA,8BAAqC;IAAAA,qCAAqB;IAAAA,iBAAM;;;;;IAEhEA,8BAAyC;IACvCA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,6CACF;;;;;;IAGEA,8BAA2D;IACzDA,yBAAyE;IACzEA,0BAAI;IAAAA,YAAkB;IAAAA,iBAAK;IAC3BA,yBAAG;IAAAA,YAAyB;IAAAA,iBAAI;IAChCA,6BAAiB;IAAAA,YAA8B;;IAAAA,iBAAI;IACnDA,kCAAqC;IAA7BA;MAAA;MAAA;MAAA;MAAA,OAASA,2CAAkB;IAAA,EAAC;IAACA,uCAAiB;IAAAA,iBAAS;;;;IAJ1DA,eAAwB;IAAxBA,2DAAwB;IACzBA,eAAkB;IAAlBA,qCAAkB;IACnBA,eAAyB;IAAzBA,4CAAyB;IACXA,eAA8B;IAA9BA,4DAA8B;;;;;IALnDA,8BAAsD;IACpDA,yEAMM;IACRA,iBAAM;;;;IAPqBA,eAAW;IAAXA,yCAAW;;;AC7ExC,OAAM,MAAOC,iBAAiB;EAK5BC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IAJlC,aAAQ,GAAc,EAAE;IACxB,YAAO,GAAY,KAAK;IACxB,UAAK,GAAkB,IAAI;EAE0B;EAErDC,QAAQ;IACN,IAAI,CAACC,YAAY,EAAE;EACrB;EAEAA,YAAY;IACV,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACJ,cAAc,CAACK,WAAW,EAAE,CAACC,SAAS,CACxCC,IAAe,IAAI;MAClB,IAAI,CAACC,QAAQ,GAAGD,IAAI;MACpB,IAAI,CAACJ,OAAO,GAAG,KAAK;IACtB,CAAC,EACDC,KAAK,IAAG;MACNK,OAAO,CAACL,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChD,IAAI,CAACA,KAAK,GAAG,kFAAkF;MAC/F,IAAI,CAACD,OAAO,GAAG,KAAK;IACtB,CAAC,CACF;EACH;EAEAO,SAAS,CAACC,OAAgB;IACxB,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;IAC7DJ,IAAI,CAACK,IAAI,CAACN,OAAO,CAAC;IAClBI,YAAY,CAACG,OAAO,CAAC,MAAM,EAAEL,IAAI,CAACM,SAAS,CAACP,IAAI,CAAC,CAAC;IAClDH,OAAO,CAACW,GAAG,CAAC,gCAAgCT,OAAO,CAACU,IAAI,EAAE,CAAC;EAC7D;EAAC;qBAhCUvB,iBAAiB;EAAA;EAAA;UAAjBA,iBAAiB;IAAAwB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QDmE9B7B,8BAAuB;QACjBA,kCAAkB;QAAAA,iBAAK;QAE3BA,kEAAgE;QAEhEA,kEAEM;QAENA,kEAQM;QACRA,iBAAM;;;QAfEA,eAAa;QAAbA,kCAAa;QAEbA,eAAW;QAAXA,gCAAW;QAIXA,eAAwB;QAAxBA,iDAAwB","names":["i0","ProductsComponent","constructor","productService","ngOnInit","loadProducts","loading","error","getProducts","subscribe","data","products","console","addToCart","product","cart","JSON","parse","localStorage","getItem","push","setItem","stringify","log","name","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\cruza\\Ecommerce Front\\src\\components\\products-page\\products-page.component.html","C:\\Users\\cruza\\Ecommerce Front\\src\\components\\products-page\\products-page.component.ts"],"sourcesContent":["<style>\r\n  .container {\r\n    max-width: 1200px;\r\n    margin: 0 auto;\r\n    padding: 20px;\r\n  }\r\n\r\n  h2 {\r\n    text-align: center;\r\n    margin-bottom: 30px;\r\n  }\r\n\r\n  .products-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\r\n    gap: 20px;\r\n  }\r\n\r\n  .product-card {\r\n    border: 1px solid #e0e0e0;\r\n    border-radius: 8px;\r\n    padding: 15px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    transition: box-shadow 0.3s ease;\r\n  }\r\n\r\n  .product-card:hover {\r\n    box-shadow: 0 4px 8px rgba(0,0,0,0.1);\r\n  }\r\n\r\n  .product-image {\r\n    width: 100%;\r\n    height: 200px;\r\n    object-fit: cover;\r\n    border-radius: 4px;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  h3 {\r\n    font-size: 1.2em;\r\n    margin: 10px 0;\r\n  }\r\n\r\n  .price {\r\n    font-weight: bold;\r\n    color: #4a4a4a;\r\n    margin: 10px 0;\r\n  }\r\n\r\n  button {\r\n    background-color: #007bff;\r\n    color: white;\r\n    border: none;\r\n    padding: 10px 15px;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s ease;\r\n  }\r\n\r\n  button:hover {\r\n    background-color: #0056b3;\r\n  }\r\n\r\n  .error-message {\r\n    color: red;\r\n    text-align: center;\r\n    margin: 20px 0;\r\n  }\r\n\r\n  .loading {\r\n    text-align: center;\r\n    margin: 20px 0;\r\n  }\r\n</style>\r\n\r\n<div class=\"container\">\r\n  <h2>Nuestros Productos</h2>\r\n\r\n  <div *ngIf=\"loading\" class=\"loading\">Cargando productos...</div>\r\n\r\n  <div *ngIf=\"error\" class=\"error-message\">\r\n    {{ error }}\r\n  </div>\r\n\r\n  <div *ngIf=\"!loading && !error\" class=\"products-grid\">\r\n    <div *ngFor=\"let product of products\" class=\"product-card\">\r\n      <img [src]=\"product.urlImage\" [alt]=\"product.name\" class=\"product-image\">\r\n      <h3>{{ product.name }}</h3>\r\n      <p>{{ product.description }}</p>\r\n      <p class=\"price\">{{ product.price | currency }}</p>\r\n      <button (click)=\"addToCart(product)\">Añadir al carrito</button>\r\n    </div>\r\n  </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ProductService } from 'src/app/adapters/product.repository.adapter';\r\nimport { Product } from 'src/app/model/product';\r\n\r\n@Component({\r\n  selector: 'app-products-page',\r\n  templateUrl: './products-page.component.html',\r\n  styleUrls: ['./products-page.component.scss']\r\n})\r\nexport class ProductsComponent implements OnInit {\r\n  products: Product[] = [];\r\n  loading: boolean = false;\r\n  error: string | null = null;\r\n\r\n  constructor(private productService: ProductService) {}\r\n\r\n  ngOnInit() {\r\n    this.loadProducts();\r\n  }\r\n\r\n  loadProducts() {\r\n    this.loading = true;\r\n    this.error = null;\r\n    this.productService.getProducts().subscribe(\r\n      (data: Product[]) => {\r\n        this.products = data;\r\n        this.loading = false;\r\n      },\r\n      error => {\r\n        console.error('Error fetching products:', error);\r\n        this.error = 'Hubo un problema al cargar los productos. Por favor, intenta de nuevo más tarde.';\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  addToCart(product: Product) {\r\n    const cart = JSON.parse(localStorage.getItem('cart') || '[]');\r\n    cart.push(product);\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n    console.log(`Producto añadido al carrito: ${product.name}`);\r\n  }\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}