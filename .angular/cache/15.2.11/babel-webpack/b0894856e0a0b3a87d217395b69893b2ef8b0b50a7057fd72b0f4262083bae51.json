{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/adapters/card.repository.adapter\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction AddFoundsComponent_div_8_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Este campo es requerido.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddFoundsComponent_div_8_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"El n\\u00FAmero de tarjeta debe contener 16 d\\u00EDgitos.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddFoundsComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtemplate(1, AddFoundsComponent_div_8_small_1_Template, 2, 0, \"small\", 12);\n    i0.ɵɵtemplate(2, AddFoundsComponent_div_8_small_2_Template, 2, 0, \"small\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r0.cardForm.get(\"digits\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.cardForm.get(\"digits\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors.pattern);\n  }\n}\nfunction AddFoundsComponent_div_13_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Este campo es requerido.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddFoundsComponent_div_13_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"El CVV debe contener 3 d\\u00EDgitos.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddFoundsComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtemplate(1, AddFoundsComponent_div_13_small_1_Template, 2, 0, \"small\", 12);\n    i0.ɵɵtemplate(2, AddFoundsComponent_div_13_small_2_Template, 2, 0, \"small\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r1.cardForm.get(\"cvv\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r1.cardForm.get(\"cvv\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors.pattern);\n  }\n}\nfunction AddFoundsComponent_div_18_small_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Este campo es requerido.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddFoundsComponent_div_18_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"Los fondos deben ser al menos 1.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddFoundsComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtemplate(1, AddFoundsComponent_div_18_small_1_Template, 2, 0, \"small\", 12);\n    i0.ɵɵtemplate(2, AddFoundsComponent_div_18_small_2_Template, 2, 0, \"small\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r2.cardForm.get(\"funds\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r2.cardForm.get(\"funds\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors.min);\n  }\n}\nexport class AddFoundsComponent {\n  constructor(formBuilder, cardService, router) {\n    this.formBuilder = formBuilder;\n    this.cardService = cardService;\n    this.router = router;\n    this.cardForm = this.formBuilder.group({\n      digits: ['', [Validators.required, Validators.pattern(/^\\d{16}$/)]],\n      cvv: ['', [Validators.required, Validators.pattern(/^\\d{3}$/)]],\n      funds: ['', [Validators.required, Validators.min(1)]]\n    });\n  }\n  ngOnInit() {}\n  onSubmit() {\n    if (this.cardForm.valid) {\n      this.cardService.createCard(this.cardForm.value).subscribe(() => {\n        // Redirigir a otra página o mostrar un mensaje de éxito\n        this.router.navigate(['/cards']); // Ajusta la ruta según sea necesario\n      }, error => {\n        console.error('Error al crear la tarjeta', error);\n      });\n    }\n  }\n  static #_ = this.ɵfac = function AddFoundsComponent_Factory(t) {\n    return new (t || AddFoundsComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.CardService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddFoundsComponent,\n    selectors: [[\"app-add-card\"]],\n    decls: 21,\n    vars: 5,\n    consts: [[1, \"container\", \"mt-4\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [\"for\", \"digits\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"digits\", \"formControlName\", \"digits\", 1, \"form-control\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"for\", \"cvv\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"cvv\", \"formControlName\", \"cvv\", 1, \"form-control\"], [\"for\", \"funds\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"funds\", \"formControlName\", \"funds\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"text-danger\"], [4, \"ngIf\"]],\n    template: function AddFoundsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"A\\u00F1adir Fondos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function AddFoundsComponent_Template_form_ngSubmit_3_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\", 3);\n        i0.ɵɵtext(6, \"N\\u00FAmero de Tarjeta (16 D\\u00EDgitos)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"input\", 4);\n        i0.ɵɵtemplate(8, AddFoundsComponent_div_8_Template, 3, 2, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 2)(10, \"label\", 6);\n        i0.ɵɵtext(11, \"CVV (3 D\\u00EDgitos)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"input\", 7);\n        i0.ɵɵtemplate(13, AddFoundsComponent_div_13_Template, 3, 2, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 2)(15, \"label\", 8);\n        i0.ɵɵtext(16, \"Fondos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"input\", 9);\n        i0.ɵɵtemplate(18, AddFoundsComponent_div_18_Template, 3, 2, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"button\", 10);\n        i0.ɵɵtext(20, \"A\\u00F1adir Tarjeta\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        let tmp_1_0;\n        let tmp_2_0;\n        let tmp_3_0;\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.cardForm);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.cardForm.get(\"digits\")) == null ? null : tmp_1_0.invalid) && (((tmp_1_0 = ctx.cardForm.get(\"digits\")) == null ? null : tmp_1_0.touched) || ((tmp_1_0 = ctx.cardForm.get(\"digits\")) == null ? null : tmp_1_0.dirty)));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.cardForm.get(\"cvv\")) == null ? null : tmp_2_0.invalid) && (((tmp_2_0 = ctx.cardForm.get(\"cvv\")) == null ? null : tmp_2_0.touched) || ((tmp_2_0 = ctx.cardForm.get(\"cvv\")) == null ? null : tmp_2_0.dirty)));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.cardForm.get(\"funds\")) == null ? null : tmp_3_0.invalid) && (((tmp_3_0 = ctx.cardForm.get(\"funds\")) == null ? null : tmp_3_0.touched) || ((tmp_3_0 = ctx.cardForm.get(\"funds\")) == null ? null : tmp_3_0.dirty)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.cardForm.invalid);\n      }\n    },\n    dependencies: [i4.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n    encapsulation: 2\n  });\n}","map":{"version":3,"mappings":"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","names":["Validators","i0","AddFoundsComponent","constructor","formBuilder","cardService","router","cardForm","group","digits","required","pattern","cvv","funds","min","ngOnInit","onSubmit","valid","createCard","value","subscribe","navigate","error","console","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\cruza\\Ecommerce Front\\src\\components\\founds\\add-founds.component.ts","C:\\Users\\cruza\\Ecommerce Front\\src\\components\\founds\\add-founds.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { CardService } from 'src/app/adapters/card.repository.adapter';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-add-card',\r\n  templateUrl: './add-founds.component.html',\r\n})\r\nexport class AddFoundsComponent implements OnInit {\r\n  cardForm: FormGroup;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private cardService: CardService,\r\n    private router: Router\r\n  ) {\r\n    this.cardForm = this.formBuilder.group({\r\n      digits: ['', [Validators.required, Validators.pattern(/^\\d{16}$/)]],\r\n      cvv: ['', [Validators.required, Validators.pattern(/^\\d{3}$/)]],\r\n      funds: ['', [Validators.required, Validators.min(1)]]\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n\r\n  onSubmit() {\r\n    if (this.cardForm.valid) {\r\n      this.cardService.createCard(this.cardForm.value).subscribe(\r\n        () => {\r\n          // Redirigir a otra página o mostrar un mensaje de éxito\r\n          this.router.navigate(['/cards']); // Ajusta la ruta según sea necesario\r\n        },\r\n        (error) => {\r\n          console.error('Error al crear la tarjeta', error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n}\r\n","<div class=\"container mt-4\">\r\n    <h2>Añadir Fondos</h2>\r\n    <form [formGroup]=\"cardForm\" (ngSubmit)=\"onSubmit()\">\r\n      <div class=\"mb-3\">\r\n        <label for=\"digits\" class=\"form-label\">Número de Tarjeta (16 Dígitos)</label>\r\n        <input type=\"text\" id=\"digits\" formControlName=\"digits\" class=\"form-control\" />\r\n        <div *ngIf=\"cardForm.get('digits')?.invalid && (cardForm.get('digits')?.touched || cardForm.get('digits')?.dirty)\" class=\"text-danger\">\r\n          <small *ngIf=\"cardForm.get('digits')?.errors?.required\">Este campo es requerido.</small>\r\n          <small *ngIf=\"cardForm.get('digits')?.errors?.pattern\">El número de tarjeta debe contener 16 dígitos.</small>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"mb-3\">\r\n        <label for=\"cvv\" class=\"form-label\">CVV (3 Dígitos)</label>\r\n        <input type=\"text\" id=\"cvv\" formControlName=\"cvv\" class=\"form-control\" />\r\n        <div *ngIf=\"cardForm.get('cvv')?.invalid && (cardForm.get('cvv')?.touched || cardForm.get('cvv')?.dirty)\" class=\"text-danger\">\r\n          <small *ngIf=\"cardForm.get('cvv')?.errors?.required\">Este campo es requerido.</small>\r\n          <small *ngIf=\"cardForm.get('cvv')?.errors?.pattern\">El CVV debe contener 3 dígitos.</small>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"mb-3\">\r\n        <label for=\"funds\" class=\"form-label\">Fondos</label>\r\n        <input type=\"number\" id=\"funds\" formControlName=\"funds\" class=\"form-control\" />\r\n        <div *ngIf=\"cardForm.get('funds')?.invalid && (cardForm.get('funds')?.touched || cardForm.get('funds')?.dirty)\" class=\"text-danger\">\r\n          <small *ngIf=\"cardForm.get('funds')?.errors?.required\">Este campo es requerido.</small>\r\n          <small *ngIf=\"cardForm.get('funds')?.errors?.min\">Los fondos deben ser al menos 1.</small>\r\n        </div>\r\n      </div>\r\n      \r\n      <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"cardForm.invalid\">Añadir Tarjeta</button>\r\n    </form>\r\n  </div>\r\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}